history for path [% path %] <a href="[% script %]/[% repos %]/rss[% path %]">(track)</a>
[% IF isdir %]
<a href="[% script %]/[% repos %]/browse[% path %]">(browse)</a>
[% END %]
[% FOREACH revs %]
<hr />
<a name="rev[% rev %]"/>
<a href="[% script %]/[% repos %]/revision/?rev=[% rev %]">revision [% rev %]</a>
[% IF isdir %]
<a href="[% script %]/[% repos %]/browse[% path %]?rev=[% rev %]">(browse)</a>
[% ELSE %]
<a href="[% script %]/[% repos %]/checkout[% path %]?rev=[% rev %]">(checkout)</a>
[% END %]
 - [% author %] - [% date %]<br/>

[% WHILE branchpoints.size && branchpoints.first.srcrev >= rev %]
[% b = branchpoints.shift %]
branchpoint for
[% IF isdir %]
<a href="[% script %]/[% repos %]/browse[% b.dst %]?rev=[% b.dstrev %]">[% b.dst %]</a>:[% b.dstrev %]<br/>
[% ELSE %]
<a href="[% script %]/[% repos %]/log[% b.dst %]#rev[% b.dstrev %]">[% b.dst %]</a>:[% b.dstrev %]<br/>
[% END %]

[% END %]
[% UNLESS isdir || loop.count == loop.size%]
[% prev = loop.count %]
<a href="[% script %]/[% repos %]/diff[% path %]?rev1=[% revs.$prev.rev %]&rev2=[% rev %]">(Diff to previous)</a><br/>
[% END %]
[% msg %]
[% END %]
